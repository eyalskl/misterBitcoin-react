(this["webpackJsonpmister-bitcoin"]=this["webpackJsonpmister-bitcoin"]||[]).push([[0],{39:function(e,t,a){e.exports=a(82)},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},52:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),c=a.n(o),s=(a(44),a(45),a(9)),i=a(2),l=a(1),u=a.n(l),m=a(3),h=a(5),f=a(6),p=a(8),d=a(7);a(47);var v={store:function(e,t){localStorage[e]=JSON.stringify(t)},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=localStorage[e]||t;return JSON.parse(a)}},g="users",b={getUser:function(){return Promise.resolve(C)},signup:function(e){var t={name:e,coins:100,moves:[]};return E.push(t),v.store(g,E),C=t,v.store("user",C),Promise.resolve(C)},login:function(e){var t=E.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));return t?(C=t,v.store("user",C),Promise.resolve(C)):Promise.resolve()},logout:function(){return C=null,v.store("user",null),Promise.resolve()},addMove:function(e,t){var a={to:e.name,toId:e._id,amount:t,at:Date.now()};C.coins-=t,C.moves.unshift(a);var n=(r=C,new Promise((function(e,t){var a=E.findIndex((function(e){return e._id===r._id}));-1!==a&&(E[a]=r),v.store(g,E),e(r)})));var r;return v.store("user",C),Promise.resolve(n)}},E=v.load(g);E||(E=[{name:"Eyal",coins:100,moves:[]},{name:"admin",coins:100,moves:[]}],v.store(g,E));var C=v.load("user")?v.load("user"):null;var w=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showNav:!1,user:null},e.toggleNav=function(){e.setState((function(e){return{showNav:!e.showNav}}))},e.closeNav=function(){e.setState({showNav:!1})},e.doLogout=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.logout();case 2:a=t.sent,e.setState({user:a}),e.props.history.push("/"),e.closeNav();case 6:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getUser();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getUser();case 2:t=e.sent,this.state.user!==t&&this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="hamburger flex column",t="main-nav",a="screen";return this.state.showNav&&(e+=" drop-nav",t+=" drop-nav",a+=" drop-nav"),r.a.createElement("header",{className:"app-header flex space-between align-center"},r.a.createElement(s.b,{to:"/home"},r.a.createElement("div",{className:"logo"},"mister BITCoin")),r.a.createElement("nav",{className:t},r.a.createElement(s.c,{activeClassName:"active",to:"/home",exact:!0,onClick:this.closeNav}," Home "),r.a.createElement(s.c,{activeClassName:"active",to:"/contact",exact:!0,onClick:this.closeNav}," Contact "),r.a.createElement(s.c,{activeClassName:"active",to:"/stats",onClick:this.closeNav}," Stats "),this.state.user&&r.a.createElement("button",{onClick:this.doLogout}," Logout ")),r.a.createElement("button",{className:e,onClick:this.toggleNav},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{className:a,onClick:this.closeNav}))}}]),a}(r.a.Component),y=Object(i.f)(w),k=(a(52),a(18)),N=a.n(k),x={getRate:function(e){return N.a.get("https://blockchain.info/tobtc?currency=USD&value=".concat(e))},getMarketPrice:function(){return N.a.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true")},getConfirmedTransactions:function(){return N.a.get("https://api.blockchain.info/charts/trade-volume?timespan=5months&format=json&cors=true")}};a(70);var j=a(37),O=a.n(j);function S(e){var t=e.contact?e.moves.filter((function(t){return t.toId===e.contact._id})):e.moves.slice(0,3);return t.length?r.a.createElement("div",{className:"move-list"},r.a.createElement("h3",{className:"header"}," Your ",e.contact?"Moves":"Last 3 Moves"," "),t.map((function(t,a){return r.a.createElement("div",{className:"move",key:a},!e.contact&&r.a.createElement("p",null," To: ",t.to," "),r.a.createElement("p",null," At: ",r.a.createElement(O.a,{date:t.at,format:"D/MM/YYYY, HH:mm:ss A"})," "),r.a.createElement("p",null," Amount: ",t.amount," "))}))):r.a.createElement("div",{className:"move-list"}," ",r.a.createElement("h3",{className:"no-moves"}," No transactions were made yet. ")," ")}function M(){return r.a.createElement("main",{className:"flex-center"},r.a.createElement("img",{src:"https://flevix.com/wp-content/uploads/2020/01/Preloader.gif",height:"200",alt:""}))}var L=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:null,bitRate:0},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getUser();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",this.props.history.push("/"));case 5:return e.next=7,x.getRate(1);case 7:a=e.sent,this.setState({user:t,bitRate:a.data});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.user||!this.state.bitRate)return r.a.createElement(M,null);var e=this.state.user,t=e.name,a=e.coins,n=e.moves;return r.a.createElement("main",{className:"home-page flex column align-center"},r.a.createElement("h1",null," Welcome, ",t,"! "),r.a.createElement(s.b,{to:"/contact"},r.a.createElement("button",null,"Get Started")),r.a.createElement("div",{className:"user-details flex justify-center"},r.a.createElement("p",null," ",r.a.createElement("i",{className:"fas fa-coins"})," Your Coins: ",a," "),r.a.createElement("p",null," ",r.a.createElement("i",{className:"fab fa-bitcoin"})," BTC: ",this.state.bitRate," ")),r.a.createElement(S,{moves:n}))}}]),a}(n.Component),D=(a(72),{getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,a){var n=_;e&&e.term&&(n=P(e.term)),t(A(n))}))},getContactById:function(e){return new Promise((function(t,a){var n=_.find((function(t){return t._id===e}));n?t(n):a("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,a){var n=_.findIndex((function(t){return t._id===e}));-1!==n&&_.splice(n,1),v.store("contacts",_),t(_)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,a){var n=_.findIndex((function(t){return e._id===t._id}));-1!==n&&(_[n]=e),v.store("contacts",_),t(e)}))}(e):function(e){return new Promise((function(t,a){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}(),_.push(e),v.store("contacts",_),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:""}}}),_=v.load("contacts");function A(e){return e.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0}))}function P(e){return e=e.toLocaleLowerCase(),_.filter((function(t){return t.name.toLocaleLowerCase().includes(e)||t.phone.toLocaleLowerCase().includes(e)||t.email.toLocaleLowerCase().includes(e)}))}_||(_=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}],v.store("contacts",_));a(73),a(74);function z(e){var t=e.contact,a=t._id,n=t.name,o=t.phone;return r.a.createElement("div",{className:"contact-preview flex column align-center"},r.a.createElement("img",{src:"https://robohash.org/".concat(a,"?set=set5"),alt:"contact img"}),r.a.createElement("div",{className:"info flex column space-between"},r.a.createElement("h3",null," ",n," "),r.a.createElement("p",null," ",o," ")),r.a.createElement("button",{onClick:function(t){return e.onDeleteContact(t,a)}},r.a.createElement("i",{className:"fas fa-trash"})))}function B(e){return r.a.createElement("div",{className:"contact-list"},e.contacts.map((function(t){return r.a.createElement(s.b,{to:"contact/details/".concat(t._id),key:t._id},r.a.createElement(z,{contact:t,onDeleteContact:e.onDeleteContact}))})))}var I=a(15),U=(a(75),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={term:""},e.handleChange=function(t){var a=t.target.value;e.setState({term:a},(function(){e.props.onChangeFilter(Object(I.a)({},e.state))}))},e.clearSearch=function(){e.setState({term:""},(function(){e.props.onChangeFilter(Object(I.a)({},e.state))}))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.term;return r.a.createElement("div",{className:"contact-filter"},r.a.createElement("button",{className:"clear-btn",onClick:this.clearSearch}," ",r.a.createElement("i",{className:"fas fa-times"})," "),r.a.createElement("input",{name:"term",type:"text",value:e,onChange:this.handleChange,placeholder:"Search Contacts..."}),r.a.createElement("button",{className:"search-btn",onClick:this.props.onChangeFilter(Object(I.a)({},this.state))}," ",r.a.createElement("i",{className:"fas fa-search"})," "))}}]),a}(n.Component)),T=a(38),R=a.n(T),F=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={contacts:null,filterBy:null},e.onChangeFilter=function(t){e.setState({filterBy:t},e.loadContacts)},e.onDeleteContact=function(){var t=Object(m.a)(u.a.mark((function t(a,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,D.deleteContact(n);case 3:e.loadContacts();case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getUser();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",this.props.history.push("/"));case 5:this.loadContacts(),this.onChangeFilter=R.a.debounce(this.onChangeFilter,300);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadContacts",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getContacts(this.state.filterBy);case 2:t=e.sent,this.setState({contacts:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.contacts;return e?r.a.createElement("main",{className:"contact-page"},r.a.createElement("h2",null," Contacts "),r.a.createElement(U,{onChangeFilter:this.onChangeFilter}),r.a.createElement(B,{contacts:e,onDeleteContact:this.onDeleteContact}),r.a.createElement(s.b,{to:"/contact/edit",className:"add-btn flex-center"}," ",r.a.createElement("i",{className:"fas fa-plus"})," ")):r.a.createElement(M,null)}}]),a}(n.Component),W=(a(76),a(19));function Y(e){return r.a.createElement("div",{className:"chart"},r.a.createElement("h3",null," ",e.title," "),r.a.createElement(W.Sparklines,{data:e.data,width:300,height:50,margin:5},r.a.createElement(W.SparklinesBars,{style:{stroke:"white",fill:"#ffc3f9",fillOpacity:".25"}}),r.a.createElement(W.SparklinesLine,{style:{stroke:"#ec4e6d",fill:"#fff"}})),r.a.createElement("p",null," ",e.subtitle," "))}var H=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={marketData:null,transactionsData:null},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getUser();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",this.props.history.push("/"));case 5:return e.next=7,x.getMarketPrice();case 7:return t=(t=e.sent).data.values.map((function(e){return e.y})),e.next=11,x.getConfirmedTransactions();case 11:a=(a=e.sent).data.values.map((function(e){return e.y})),this.setState({marketData:t,transactionsData:a});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.marketData&&this.state.transactionsData?r.a.createElement("main",{className:"stats-page"},r.a.createElement("h2",null," Bitcoin Statistics "),r.a.createElement("div",{className:"chart-display"},r.a.createElement(Y,{data:this.state.marketData,title:"Market Price (USD)",subtitle:"Average USD market price across major bitcoin exchanges."}),r.a.createElement(Y,{data:this.state.transactionsData,title:"Confirmed transactions per day",subtitle:"The number of daily confirmed bitcoin transactoins"}))):r.a.createElement(M,null)}}]),a}(n.Component),G=(a(77),a(78),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={amount:"",showError:!1,errorMsg:""},e.handleChange=function(t){var a=t.target;e.setState({amount:a.value,showError:!1})},e.checkTransfer=function(t){var a=e.props.user.coins,n=e.state.amount,r=n>a?"Insufficient funds, try a lower amount":!n||n<0?"Please insert a valid amount.":"";if(r)return e.setState({showError:!0,errorMsg:r});e.props.onAddMove(t,n),e.setState({amount:""})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.amount;return r.a.createElement("div",{className:"transfer-funds"},r.a.createElement("h3",null," Transfer funds to ",this.props.contact.name," "),r.a.createElement("p",null," Your funds: ",this.props.user.coins," "),r.a.createElement("form",{onSubmit:this.checkTransfer},r.a.createElement("input",{type:"number",value:e,placeholder:"Transfer amount...",onChange:this.handleChange}),this.state.showError&&r.a.createElement("small",null," ",this.state.errorMsg," "),r.a.createElement("button",null," Send ")))}}]),a}(n.Component)),J=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={contact:null,user:null,showImg:!1},e.deleteContact=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.deleteContact(e.state.contact._id);case 2:e.props.history.push("/contact");case 3:case"end":return t.stop()}}),t)}))),e.onAddMove=function(){var t=Object(m.a)(u.a.mark((function t(a,n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,b.addMove(e.state.contact,n);case 3:return t.next=5,b.getUser();case 5:r=t.sent,e.setState({user:r});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.onImgLoaded=function(){console.log("asd"),e.setState({showImg:!0})},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getContactById(this.props.match.params.id);case 2:return t=e.sent,e.next=5,b.getUser();case 5:a=e.sent,this.setState({contact:t,user:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.contact||!this.state.user)return r.a.createElement(M,null);var t=this.state.contact,a=t._id,n=t.name,o=t.phone,c=t.email,s=this.state.user;return r.a.createElement("main",{className:"contact-details"},r.a.createElement("h2",{className:"header"}," Contact Details "),r.a.createElement("div",{className:"details flex column align-center"},r.a.createElement("h3",null," ",n," "),r.a.createElement("img",{src:"https://robohash.org/".concat(a,"?set=set5"),alt:"contact img"}),r.a.createElement("div",{className:"info"},r.a.createElement("p",{className:"flex align-center"},r.a.createElement("i",{className:"fas fa-phone-square-alt"}," "),r.a.createElement("span",null,"Phone: ")," ",o),r.a.createElement("p",{className:"flex align-center"},r.a.createElement("i",{className:"fas fa-envelope"}),r.a.createElement("span",null,"Email: ")," ",c))),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){return e.props.history.push("/contact")}}," Go back "),r.a.createElement("button",{onClick:this.deleteContact}," Delete "),r.a.createElement("button",{onClick:function(){return e.props.history.push("/contact/edit/".concat(a))}}," Edit ")),r.a.createElement(G,{user:s,contact:this.state.contact,onAddMove:this.onAddMove}),r.a.createElement(S,{contact:this.state.contact,moves:s.moves}))}}]),a}(n.Component);a(79);function q(){return r.a.createElement("footer",{className:"app-footer flex-center"},"Copyrights mister BITCoin 2020.")}var K=a(17),Q=(a(80),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={contact:null},e.saveContact=function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,D.saveContact(e.state.contact);case 3:e.props.history.goBack();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){var t=e.contact;return{contact:Object(I.a)(Object(I.a)({},t),{},Object(K.a)({},n,r))}}))},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=7;break}return e.next=4,D.getContactById(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=D.getEmptyContact();case 8:a=e.t0,this.setState({contact:a});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.contact)return r.a.createElement(M,null);var e=this.state.contact,t=e._id,a=e.name,n=e.phone,o=e.email;return r.a.createElement("main",{className:"contact-edit"},r.a.createElement("h2",null," ",t?"Edit":"Add"," Contact "),r.a.createElement("form",{className:"contact-form flex column align-center",onSubmit:this.saveContact},r.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange,placeholder:"Contact's Name..."}),r.a.createElement("input",{type:"text",name:"email",value:o,onChange:this.handleChange,placeholder:"Contact's E-Mail..."}),r.a.createElement("input",{type:"text",name:"phone",value:n,onChange:this.handleChange,placeholder:"Contact's Phone..."}),r.a.createElement("button",null," Save "),r.a.createElement(s.b,{to:"/contact"}," Cancel ")))}}]),a}(n.Component)),V=(a(81),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",showError:!1,errorMsg:"",loginMode:!0},e.handleLogin=function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.state.name){t.next=3;break}return t.abrupt("return",e.setState({showError:!0,errorMsg:"Field is required."}));case 3:if(!e.state.loginMode){t.next=9;break}return t.next=6,b.login(e.state.name);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,b.signup(e.state.name);case 11:t.t0=t.sent;case 12:t.t0?e.props.history.push("/home"):e.setState({showError:!0,errorMsg:"Incorrect name, try again."});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target;e.setState({name:a.value,showError:!1})},e.toggleLogin=function(t){t.preventDefault(),e.setState((function(e){return{loginMode:!e.loginMode}})),e.setState({name:"",showError:!1})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.loginMode;return r.a.createElement("main",{className:"login-page"},r.a.createElement("h2",null," ",e?"Login":"Signup"," "),r.a.createElement("form",{className:"login-form flex column align-center",onSubmit:this.handleLogin},r.a.createElement("input",{type:"text",value:this.state.name,name:"name",onChange:this.handleChange,placeholder:"Please enter your name..."}),this.state.showError&&r.a.createElement("small",null," ",this.state.errorMsg," "),r.a.createElement("button",null," ",e?"Login":"Signup"," "),r.a.createElement("button",{onClick:this.toggleLogin}," or ",e?"Signup":"Login"," ")))}}]),a}(n.Component));var X=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/contact/details/:id",component:J}),r.a.createElement(i.a,{path:"/contact/edit/:id?",component:Q}),r.a.createElement(i.a,{path:"/contact",component:F}),r.a.createElement(i.a,{path:"/home",component:L}),r.a.createElement(i.a,{path:"/stats",component:H}),r.a.createElement(i.a,{path:"/",component:V})),r.a.createElement(q,null)))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/misterBitcoin-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/misterBitcoin-react","/service-worker.js");Z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$(t,e)}))}}(),window.addEventListener("beforeinstallprompt",(function(e){console.log("beforeinstallprompt event has fired"),e.prompt()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.eecabbde.chunk.js.map