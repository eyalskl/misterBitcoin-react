(this["webpackJsonpmister-bitcoin"]=this["webpackJsonpmister-bitcoin"]||[]).push([[0],{45:function(e,t,n){e.exports=n(89)},50:function(e,t,n){},56:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),s=(n(50),n(11)),i=n(5),u=n(1),l=n.n(u),m=n(3),p=n(6),f=n(7),h=n(9),d=n(8),v=n(10),b=n(19);var g={store:function(e,t){localStorage[e]=JSON.stringify(t)},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage[e]||t;return JSON.parse(n)}},E="users",C={getUser:function(){return Promise.resolve(w)},signup:function(e){var t={name:e,coins:100,moves:[]};return y.push(t),g.store(E,y),w=t,g.store("user",w),Promise.resolve(w)},login:function(e){var t=y.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));return t?(w=t,g.store("user",w),Promise.resolve(w)):Promise.resolve()},logout:function(){return w=null,g.store("user",null),Promise.resolve(w)},addMove:function(e,t){var n={to:e.name,toId:e._id,amount:t,at:Date.now()};w.coins-=t,w.moves.unshift(n);var a=(r=w,new Promise((function(e,t){var n=y.findIndex((function(e){return e.name===r.name}));-1!==n&&y.splice(n,1,r),g.store(E,y),e(r)})));var r;return g.store("user",w),Promise.resolve(a)},getUsers:function(){return Promise.resolve(Object(b.a)(y))}},y=g.load(E);y||(y=[{name:"eyal",coins:100,moves:[]},{name:"admin",coins:100,moves:[]}],g.store(E,y));var w=g.load("user")?g.load("user"):null;var O=function(e){return{type:"SET_USERS",users:e}},j=function(e){return{type:"SET_USER",user:e}},k=function(e){return{type:"ADD_MOVE",user:e}},N=function(e){return{type:"LOGIN",user:e}},x=function(e){return{type:"SIGNUP",user:e}};function S(){return function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getUser();case 2:return n=e.sent,t(j(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}n(56);var _=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showNav:!1,user:null},e.toggleNav=function(){e.setState((function(e){return{showNav:!e.showNav}}))},e.closeNav=function(){e.setState({showNav:!1})},e.doLogout=Object(m.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.logout();case 2:n=t.sent,e.setState({user:n}),e.props.history.push("/"),e.closeNav();case 6:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getUser();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getUser();case 2:t=e.sent,this.state.user!==t&&this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("header",{className:"app-header flex space-between align-center"},r.a.createElement(s.b,{to:"/home"},r.a.createElement("div",{className:"logo"},"mister BITCoin")),r.a.createElement("nav",{className:"main-nav ".concat(this.dropNavClass)},r.a.createElement(s.c,{activeClassName:"active",to:"/home",exact:!0,onClick:this.closeNav}," Home "),r.a.createElement(s.c,{activeClassName:"active",to:"/contact",exact:!0,onClick:this.closeNav}," Contacts "),r.a.createElement(s.c,{activeClassName:"active",to:"/stats",onClick:this.closeNav}," Stats "),this.state.user&&r.a.createElement("button",{onClick:this.doLogout}," Logout ")),r.a.createElement("button",{className:"hamburger flex column ".concat(this.dropNavClass),onClick:this.toggleNav},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{className:"screen ".concat(this.dropNavClass),onClick:this.closeNav}))}},{key:"dropNavClass",get:function(){return this.state.showNav?"drop-nav":""}}]),n}(r.a.Component);var D={logout:function(){return function(e){return C.logout().then((function(t){return e(function(e){return{type:"LOGOUT",user:e}}(t))}))}}},M=Object(i.f)(Object(v.b)((function(e){return{users:e.userReducer.users,user:e.userReducer.user}}),D)(_)),T=n(24),L=n.n(T),A={getRate:function(e){return L.a.get("https://blockchain.info/tobtc?currency=USD&value=".concat(e))},getMarketPrice:function(){return L.a.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true")},getConfirmedTransactions:function(){return L.a.get("https://api.blockchain.info/charts/trade-volume?timespan=5months&format=json&cors=true")}};n(75);var R=n(42),U=n.n(R);function P(e){var t=e.contact?e.moves.filter((function(t){return t.toId===e.contact._id})):e.moves.slice(0,3);return t.length?r.a.createElement("div",{className:"move-list"},r.a.createElement("h3",{className:"header"}," Your ",e.contact?"Moves":"Last 3 Moves"," "),t.map((function(t,n){return r.a.createElement("div",{className:"move",key:n},!e.contact&&r.a.createElement("p",null," To: ",t.to," "),r.a.createElement("p",null," At: ",r.a.createElement(U.a,{date:t.at,format:"D/MM/YYYY, HH:mm:ss A"})," "),r.a.createElement("p",null," Amount: ",t.amount," "))}))):r.a.createElement("div",{className:"move-list"}," ",r.a.createElement("h3",{className:"no-moves"}," No transactions were made yet. ")," ")}function I(){return r.a.createElement("main",{className:"flex-center"},r.a.createElement("img",{src:"https://flevix.com/wp-content/uploads/2020/01/Preloader.gif",height:"200",alt:""}))}n(77);var z=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={bitRate:0},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:if(this.props.user){e.next=4;break}return e.abrupt("return",this.props.history.push("/"));case 4:return e.next=6,A.getRate(1);case 6:t=e.sent,this.setState({bitRate:t.data});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.props.user||!this.state.bitRate)return r.a.createElement(I,null);var e=this.props.user,t=e.name,n=e.coins,a=e.moves;return r.a.createElement("main",{className:"home-page flex column align-center"},r.a.createElement("h1",null," Welcome, ",t,"! "),r.a.createElement(s.b,{to:"/contact"},r.a.createElement("button",null,"Get Started")),r.a.createElement("div",{className:"user-details flex justify-center"},r.a.createElement("p",null," ",r.a.createElement("i",{className:"fas fa-coins"})," Your Coins: ",n," "),r.a.createElement("p",null," ",r.a.createElement("i",{className:"fab fa-bitcoin"})," BTC: ",this.state.bitRate," ")),r.a.createElement(P,{moves:a}))}}]),n}(a.Component);var B={loadUser:S},F=Object(v.b)((function(e){return{user:e.userReducer.user}}),B)(z),G={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,n){var a=W;e&&e.term&&(a=H(e.term)),t(Y(a))}))},getContactById:function(e){return new Promise((function(t,n){var a=W.find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,n){var a=W.findIndex((function(t){return t._id===e}));-1!==a&&W.splice(a,1),g.store("contacts",W),t(W)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var a=W.findIndex((function(t){return e._id===t._id}));-1!==a&&(W[a]=e),g.store("contacts",W),t(e)}))}(e):function(e){return new Promise((function(t,n){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),W.push(e),g.store("contacts",W),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:""}}},W=g.load("contacts");function Y(e){return e.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0}))}function H(e){return e=e.toLocaleLowerCase(),W.filter((function(t){return t.name.toLocaleLowerCase().includes(e)||t.phone.toLocaleLowerCase().includes(e)||t.email.toLocaleLowerCase().includes(e)}))}W||(W=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}],g.store("contacts",W));var q=function(e){return{type:"SET_CONTACTS",contacts:e}},J=function(e){return{type:"ADD_CONTACT",contact:e}},V=function(e){return{type:"UPDATE_CONTACT",contact:e}};function X(){return function(){var e=Object(m.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getContacts(n().contactReducer.filterBy);case 2:a=e.sent,t(q(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function K(e){return function(t){return G.deleteContact(e).then((function(){return t(function(e){return{type:"REMOVE_CONTACT",id:e}}(e))}))}}n(78),n(79);function Q(e){var t=e.contact,n=t._id,a=t.name,c=t.phone;return r.a.createElement("div",{className:"contact-preview flex column align-center"},r.a.createElement("img",{src:"https://robohash.org/".concat(n,"?set=set5"),alt:"contact img"}),r.a.createElement("div",{className:"info flex column space-between"},r.a.createElement("h3",null," ",a," "),r.a.createElement("p",null," ",c," ")),r.a.createElement("button",{onClick:function(t){return e.onDeleteContact(t,n)}},r.a.createElement("i",{className:"fas fa-trash"})))}function Z(e){return r.a.createElement("div",{className:"contact-list"},e.contacts.map((function(t){return r.a.createElement(s.b,{to:"contact/details/".concat(t._id),key:t._id},r.a.createElement(Q,{contact:t,onDeleteContact:e.onDeleteContact}))})))}var $=n(2),ee=(n(80),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={term:""},e.handleChange=function(t){var n=t.target;e.setState({term:n.value},(function(){e.props.onChangeFilter(Object($.a)({},e.state))}))},e.clearSearch=function(){e.setState({term:""},(function(){e.props.onChangeFilter(Object($.a)({},e.state))}))},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state.term;return r.a.createElement("div",{className:"contact-filter"},r.a.createElement("button",{className:"clear-btn",onClick:this.clearSearch}," ",r.a.createElement("i",{className:"fas fa-times"})," "),r.a.createElement("input",{name:"term",type:"text",value:t,onChange:this.handleChange,placeholder:"Search Contacts..."}),r.a.createElement("button",{className:"search-btn",onClick:function(){return e.props.onChangeFilter(Object($.a)({},e.state))}}," ",r.a.createElement("i",{className:"fas fa-search"})," "))}}]),n}(a.Component)),te=n(43),ne=n.n(te),ae=(n(81),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onChangeFilter=function(t){e.props.setFilter(t),e.props.loadContacts()},e.onDeleteContact=function(){var t=Object(m.a)(l.a.mark((function t(n,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.removeContact(a),e.props.loadContacts();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:if(this.props.user){e.next=4;break}return e.abrupt("return",this.props.history.push("/"));case 4:this.props.setFilter({term:""}),this.props.loadContacts(),this.onChangeFilter=ne.a.debounce(this.onChangeFilter,300);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.contacts;return e?r.a.createElement("main",{className:"contact-page"},r.a.createElement("h2",null," Contacts "),r.a.createElement(ee,{onChangeFilter:this.onChangeFilter}),r.a.createElement(Z,{contacts:e,onDeleteContact:this.onDeleteContact}),r.a.createElement(s.b,{to:"/contact/edit",className:"add-btn flex-center"}," ",r.a.createElement("i",{className:"fas fa-plus"})," ")):r.a.createElement(I,null)}}]),n}(a.Component));var re={loadContacts:X,setFilter:function(e){return function(t){t(function(e){return{type:"SET_FILTER",filterBy:e}}(e))}},removeContact:K,loadUser:S},ce=Object(v.b)((function(e){return{contacts:e.contactReducer.contacts,user:e.userReducer.user}}),re)(ae),oe=(n(82),n(25));function se(e){return r.a.createElement("div",{className:"chart"},r.a.createElement("h3",null," ",e.title," "),r.a.createElement(oe.Sparklines,{data:e.data,width:300,height:50,margin:5},r.a.createElement(oe.SparklinesBars,{style:{stroke:"white",fill:"#ffc3f9",fillOpacity:".25"}}),r.a.createElement(oe.SparklinesLine,{style:{stroke:"#ec4e6d",fill:"#fff"}})),r.a.createElement("p",null," ",e.subtitle," "))}var ie=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={marketData:null,transactionsData:null},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:if(this.props.user){e.next=4;break}return e.abrupt("return",this.props.history.push("/"));case 4:return e.next=6,A.getMarketPrice();case 6:return t=(t=e.sent).data.values.map((function(e){return e.y})),e.next=10,A.getConfirmedTransactions();case 10:n=(n=e.sent).data.values.map((function(e){return e.y})),this.setState({marketData:t,transactionsData:n});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.marketData&&this.state.transactionsData?r.a.createElement("main",{className:"stats-page"},r.a.createElement("h2",null," Bitcoin Statistics "),r.a.createElement("div",{className:"chart-display"},r.a.createElement(se,{data:this.state.marketData,title:"Market Price (USD)",subtitle:"Average USD market price across major bitcoin exchanges."}),r.a.createElement(se,{data:this.state.transactionsData,title:"Confirmed transactions per day",subtitle:"The number of daily confirmed bitcoin transactoins"}))):r.a.createElement(I,null)}}]),n}(a.Component);var ue={loadUser:S},le=Object(v.b)((function(e){return{user:e.userReducer.user}}),ue)(ie),me=(n(83),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={amount:"",showError:!1,errorMsg:""},e.handleChange=function(t){var n=t.target;e.setState({amount:n.value,showError:!1})},e.checkTransfer=function(t){var n=e.props.user.coins,a=e.state.amount,r=a>n?"Insufficient funds, try a lower amount":!a||a<0?"Please insert a valid amount.":"";if(r)return e.setState({showError:!0,errorMsg:r});e.props.onAddMove(t,a),e.setState({amount:""})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.amount;return r.a.createElement("div",{className:"transfer-funds"},r.a.createElement("h3",null," Transfer funds to ",this.props.contact.name," "),r.a.createElement("p",null," Your funds: ",this.props.user.coins," "),r.a.createElement("form",{onSubmit:this.checkTransfer},r.a.createElement("input",{type:"number",value:e,placeholder:"Transfer amount...",onChange:this.handleChange}),this.state.showError&&r.a.createElement("small",null," ",this.state.errorMsg," "),r.a.createElement("button",null," Send ")))}}]),n}(a.Component)),pe=(n(84),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={contact:null,user:null},e.deleteContact=Object(m.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeContact(e.state.contact._id);case 2:e.props.history.push("/contact");case 3:case"end":return t.stop()}}),t)}))),e.onAddMove=function(){var t=Object(m.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.props.addMove(e.state.contact,a);case 3:r=t.sent,e.setState({user:r});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.loadContacts(),e.next=3,G.getContactById(this.props.match.params.id);case 3:return t=e.sent,e.next=6,this.props.loadUser();case 6:(n=e.sent)||this.props.history.push("/"),this.setState({contact:t,user:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.contact||!this.props.user)return r.a.createElement(I,null);var t=this.state.contact,n=t._id,a=t.name,c=t.phone,o=t.email,s=this.state.user;return r.a.createElement("main",{className:"contact-details"},r.a.createElement("h2",{className:"header"}," Contact Details "),r.a.createElement("div",{className:"details flex column align-center"},r.a.createElement("h3",null," ",a," "),r.a.createElement("img",{src:"https://robohash.org/".concat(n,"?set=set5"),alt:"contact img"}),r.a.createElement("div",{className:"info"},r.a.createElement("p",{className:"flex align-center"},r.a.createElement("i",{className:"fas fa-phone-square-alt"}," "),r.a.createElement("span",null,"Phone: ")," ",c),r.a.createElement("p",{className:"flex align-center"},r.a.createElement("i",{className:"fas fa-envelope"}),r.a.createElement("span",null,"Email: ")," ",o))),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){return e.props.history.push("/contact")}}," Go back "),r.a.createElement("button",{onClick:this.deleteContact}," Delete "),r.a.createElement("button",{onClick:function(){return e.props.history.push("/contact/edit/".concat(n))}}," Edit ")),r.a.createElement(me,{user:s,contact:this.state.contact,onAddMove:this.onAddMove}),r.a.createElement(P,{contact:this.state.contact,moves:s.moves}))}}]),n}(a.Component));var fe={removeContact:K,loadContacts:X,loadUser:S,addMove:function(e,t){return function(){var n=Object(m.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.addMove(e,t);case 2:return r=n.sent,a(k(r)),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},he=Object(v.b)((function(e){return{contacts:e.contactReducer.contacts,user:e.userReducer.user}}),fe)(pe);n(85);function de(){return r.a.createElement("footer",{className:"app-footer flex-center"},"Copyrights mister BITCoin 2020.")}var ve=n(23),be=(n(86),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={contact:null,showError:!1,errorMsg:"All fields are required!"},e.saveContact=function(){var t=Object(m.a)(l.a.mark((function t(n){var a,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state.contact,r=a.name,c=a.phone,o=a.email,r&&c&&o){t.next=4;break}return t.abrupt("return",e.setState({showError:!0}));case 4:return t.next=6,e.props.saveContact(e.state.contact);case 6:e.props.history.goBack();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target;e.setState({showError:!1});var a=n.name,r=n.value;e.setState((function(e){var t=e.contact;return{contact:Object($.a)(Object($.a)({},t),{},Object(ve.a)({},a,r))}}))},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=7;break}return e.next=4,G.getContactById(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=G.getEmptyContact();case 8:n=e.t0,this.setState({contact:n}),this.props.loadContacts();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.contact)return r.a.createElement(I,null);var e=this.state.contact,t=e._id,n=e.name,a=e.phone,c=e.email;return r.a.createElement("main",{className:"contact-edit"},r.a.createElement("h2",null," ",t?"Edit":"Add"," Contact "),r.a.createElement("form",{className:"contact-form flex column align-center",onSubmit:this.saveContact},this.state.showError&&r.a.createElement("small",null," ",this.state.errorMsg," "),r.a.createElement("input",{type:"text",name:"name",value:n,onChange:this.handleChange,placeholder:"Contact's Name..."}),r.a.createElement("input",{type:"text",name:"email",value:c,onChange:this.handleChange,placeholder:"Contact's E-Mail..."}),r.a.createElement("input",{type:"text",name:"phone",value:a,onChange:this.handleChange,placeholder:"Contact's Phone..."}),r.a.createElement("button",null," Save "),r.a.createElement(s.b,{to:"/contact"}," Cancel ")))}}]),n}(a.Component));var ge={saveContact:function(e){return function(){var t=Object(m.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",G.saveContact(e).then((function(){return e._id?n(V(e)):n(J(e))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadContacts:X},Ee=Object(v.b)((function(e){return{contacts:e.contactReducer.contacts}}),ge)(be),Ce=(n(87),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",showError:!1,errorMsg:"",loginMode:!0},e.handleLogin=function(){var t=Object(m.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.state.name){t.next=3;break}return t.abrupt("return",e.setState({showError:!0,errorMsg:"Field is required."}));case 3:if(!e.state.loginMode){t.next=9;break}return t.next=6,e.props.login(e.state.name);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,e.props.signup(e.state.name);case 11:t.t0=t.sent;case 12:t.t0?e.props.history.push("/home"):e.setState({showError:!0,errorMsg:"Incorrect name, try again."});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target;e.setState({name:n.value,showError:!1})},e.toggleLogin=function(t){t.preventDefault(),e.setState((function(e){return{loginMode:!e.loginMode}})),e.setState({name:"",showError:!1})},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUsers();case 2:return e.next=4,this.props.loadUser();case 4:this.props.user&&this.props.history.push("/home");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loginMode;return r.a.createElement("main",{className:"login-page"},r.a.createElement("h2",null," ",e?"Login":"Signup"," "),r.a.createElement("form",{className:"login-form flex column align-center",onSubmit:this.handleLogin},r.a.createElement("input",{type:"text",value:this.state.name,name:"name",onChange:this.handleChange,placeholder:"Please enter your name..."}),this.state.showError&&r.a.createElement("small",null," ",this.state.errorMsg," "),r.a.createElement("button",null," ",e?"Login":"Signup"," "),r.a.createElement("button",{onClick:this.toggleLogin}," or ",e?"Signup":"Login"," ")))}}]),n}(a.Component));var ye={login:function(e){return function(){var t=Object(m.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.login(e);case 2:return a=t.sent,n(N(a)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(m.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.signup(e);case 2:return a=t.sent,n(x(a)),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadUsers:function(){return function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getUsers();case 2:n=e.sent,t(O(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loadUser:S},we=Object(v.b)((function(e){return{users:e.userReducer.users,user:e.userReducer.user}}),ye)(Ce);var Oe=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(M,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/contact/details/:id",component:he}),r.a.createElement(i.a,{path:"/contact/edit/:id?",component:Ee}),r.a.createElement(i.a,{path:"/contact",component:ce}),r.a.createElement(i.a,{path:"/home",component:F}),r.a.createElement(i.a,{path:"/stats",component:le}),r.a.createElement(i.a,{path:"/",component:we})),r.a.createElement(de,null)))},je={contacts:null,filterBy:null};var ke={user:null,users:null};var Ne=n(17),xe=n(44),Se=Object(Ne.c)({contactReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object($.a)(Object($.a)({},e),{},{contacts:t.contacts});case"SET_FILTER":return Object($.a)(Object($.a)({},e),{},{filterBy:t.filterBy});case"ADD_CONTACT":return Object($.a)(Object($.a)({},e),{},{contacts:[].concat(Object(b.a)(e.contacts),[t.contact])});case"REMOVE_CONTACT":return Object($.a)(Object($.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.id}))});case"UPDATE_CONTACT":return Object($.a)(Object($.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===t.contact._id?t.contact:e}))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return Object($.a)(Object($.a)({},e),{},{users:t.users});case"SET_USER":case"ADD_MOVE":case"LOGIN":return Object($.a)(Object($.a)({},e),{},{user:t.user});case"SIGNUP":return e=Object($.a)(Object($.a)({},e),{},{users:[].concat(Object(b.a)(e.users),[t.user]),user:t.user});case"LOGOUT":return Object($.a)(Object($.a)({},e),{},{user:t.user});default:return e}}}),_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ne.d,De=Object(Ne.e)(Se,_e(Object(Ne.a)(xe.a))),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(88);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:De},r.a.createElement(Oe,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/misterBitcoin-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/misterBitcoin-react","/service-worker.js");Me?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Te(t,e)}))}}(),window.addEventListener("beforeinstallprompt",(function(e){console.log("beforeinstallprompt event has fired"),e.prompt()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.8f54c67b.chunk.js.map